{"version":3,"sources":["../../../../build/webpack/plugins/build-manifest-plugin.ts"],"names":["generateClientManifest","compiler","compilation","assetMap","rewrites","compilationSpan","spans","get","genClientManifestSpan","traceChild","traceFn","clientManifest","__rewrites","appDependencies","Set","pages","sortedPageKeys","getSortedRoutes","Object","keys","forEach","page","dependencies","filteredDeps","filter","dep","has","length","sortedPages","devalue","getEntrypointFiles","entrypoint","getFiles","file","test","map","replace","processRoute","r","rewrite","destination","startsWith","BuildManifestPlugin","options","buildId","isDevFallback","beforeFiles","afterFiles","fallback","rootEnabled","exportRuntime","createAssets","assets","createAssetsSpan","entrypoints","polyfillFiles","devFiles","ampDevFiles","lowPriorityFiles","rootMainFiles","ampFirstPages","ampFirstEntryNames","ampFirstEntryNamesMap","entryName","pagePath","getRouteFromEntrypoint","push","mainFiles","CLIENT_STATIC_FILES_RUNTIME_MAIN","CLIENT_STATIC_FILES_RUNTIME_MAIN_ROOT","compilationAssets","getAssets","p","name","endsWith","info","CLIENT_STATIC_FILES_RUNTIME_POLYFILLS_SYMBOL","v","CLIENT_STATIC_FILES_RUNTIME_REACT_REFRESH","CLIENT_STATIC_FILES_RUNTIME_AMP","systemEntrypoints","values","filesForPage","CLIENT_STATIC_FILES_PATH","srcEmptySsgManifest","ssgManifestPath","sources","RawSource","srcEmptyMiddlewareManifest","middlewareManifestPath","sort","reduce","a","c","buildManifestName","BUILD_MANIFEST","JSON","stringify","MIDDLEWARE_BUILD_MANIFEST","clientManifestPath","apply","hooks","make","tap","processAssets","stage","webpack","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS"],"mappings":"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"}