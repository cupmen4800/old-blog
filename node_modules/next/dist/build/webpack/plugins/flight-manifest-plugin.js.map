{"version":3,"sources":["../../../../build/webpack/plugins/flight-manifest-plugin.ts"],"names":["PLUGIN_NAME","edgeFlightManifest","nodeFlightManifest","injectedClientEntries","Map","FlightManifestPlugin","options","dev","pageExtensions","isEdgeServer","apply","compiler","context","hooks","compilation","tap","normalModuleFactory","dependencyFactories","set","webpack","dependencies","ModuleDependency","dependencyTemplates","NullDependency","Template","finishMake","tapAsync","callback","promises","name","entry","entries","entryDependency","request","layer","visited","Set","clientComponentImports","filterClientComponents","dependency","module","moduleGraph","getResolvedModule","has","userRequest","add","clientComponentRegex","test","push","getOutgoingConnections","forEach","connection","entryModule","routeInfo","buildInfo","route","page","denormalizePagePath","replace","absolutePagePath","resource","pageStaticInfo","getPageStaticInfo","clientLoader","stringify","modules","runtime","ssr","bundlePath","normalizePagePath","pageKey","dispose","lastActiveTime","Date","now","invalidator","getInvalidator","invalidate","isServerComponent","clientComponentEntryDep","EntryPlugin","createDependency","Promise","res","rej","addEntry","library","type","EDGE_RUNTIME_WEBPACK","asyncChunks","err","all","then","catch","make","processAssets","stage","Compilation","PROCESS_ASSETS_STAGE_ADDITIONS","assets","createAsset","manifest","chunkGroups","chunkGroup","recordModule","id","_chunk","mod","moduleExports","exportsInfo","getExportsInfo","moduleExportedKeys","concat","exports","map","exportInfo","provided","filter","Boolean","chunks","chunk","chunkModules","chunkGraph","getChunkModulesIterable","modId","getModuleId","split","concatenatedMod","mergedManifest","file","MIDDLEWARE_FLIGHT_MANIFEST","json","JSON","sources","RawSource"],"mappings":"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"}