---
title: "【簡単】Chrome拡張機能を作ろう!"
date: "2022-05-15"
update_data: "2022-05-15"
janle: "programming"
view_janle: "プログラミング"
category: "js"
view_category: "JS"
detail: "TEST"
---

## 前提として必要な技術

『JavaScript』のみです。

これ以外には

- HTML
  
  - アイコンをクリックした際のポップアップ
  
  - 新しいタブとかを作りたい場合

- CSS
  
  - 上記のものを装飾したい場合

などに使います。

- ReactやVue
  
  - 必要に応じて使うことができます。

他にも、ReactやVueといった技術を使うことができます。

今回は上記のReactやVueは使いません。

これで技術についての説明は終わったので拡張機能の種類についての説明に移ります

## 拡張機能の種類

拡張機能の種類は主にこの3つです。

### Browser Actions

右上についててよく見かけるやつです。

有名なもので言うと殆どの拡張で見かけます。

### Page Actions

ページによって表示されたり

されなかったりするタイプの拡張機能です。

### Override Pages

新しいタブなどのページを置き換えたりできます。

主に

- 新しいタブ

- ブックマーク

- 履歴

といったものを置き換えることができます。

それと、注意点ですが、一つの拡張機能で一つのページしか置き換えられません。

私もこのように新しいタブを自作のものにしています。

![]()

### 今回作る拡張機能

今回作るのはAmazonの検索などで新しいタブを開かなくなる拡張機能

『名前決めてくれ』を作ります。

仕組みはこの様になっています。

1. JSファイルをAmazonのページで読み込む

2. その瞬間にリンクから新しいタブで開く属性を削除

それと、メニューからコピーした文字を確認できます。

といった感じで割と単純です。

まあ、こんな感じで仕組みを解説したところで実際にコードを書いてきましょう。

## 実践

### 環境構築

まずは任意のディレクトリ内にフォルダを作っていきましょう。

なるべくわかりやすいところがおすすめです。

フォルダを作ったらこの中に設定ファイルを書いていきます。

まずは、テキストエディタで『manifest.json』という名前で保存して
以下のように入力

```json
{
  "name": "Amazon No new Tab", // 拡張機能の名前
  "version": "0.1.0", // 拡張機能のバージョン
  "manifest_version": 3, // 設定ファイルのバージョン (2は新規登録が停止されています。)
  "description": "Amazonの検索などで新しいタブを開くのを防止します。", // 説明
  "content_scripts": [
    {
      "matches": ["https://www.amazon.co.jp/*"], // JSファイルを読み込むURL (*はワイルドカードです。)
      "js": ["content.js"] // 読み込まれるファイル
    }
  ],
  "icons": {
    "48": "LEEKS.devTeropIcon.png" // アイコン
  }
}
```

これが今回使う設定になります。

ここからJSファイルを書いておきます。

```js
const rm_Blank = () => {
  let elements = document.getElementsByClassName("a-link-normal");
    for(let i = 0; elements.length > i; i++){
      elements[i].removeAttribute("target");
    };
}
rm_Blank();
```
